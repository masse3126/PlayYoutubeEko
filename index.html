<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>YouTube Audio Only</title>

<style>
body {
  background:#000;
  color:#fff;
  font-family:Arial,sans-serif;
  padding:15px;
}

input, button {
  width:100%;
  padding:14px;
  font-size:16px;
  border-radius:8px;
  border:none;
  margin-bottom:12px;
}

button {
  background:#e50914;
  color:#fff;
  font-weight:bold;
}

button:disabled {
  background:#555;
}

#player {
  width:1px;
  height:1px;
  opacity:0;
}

label {
  font-size:14px;
}
</style>
</head>

<body>

<h3>ğŸ§ Audio Only YouTube</h3>

<input id="link" placeholder="Paste link YouTube di sini">

<button id="play" disabled>â³ Loading Player...</button>

<div id="player"></div>

<label>ğŸ”Š Volume</label>
<input id="volume" type="range" min="0" max="100" value="60">

<script src="https://www.youtube.com/iframe_api"></script>
<script>
let player;
let playerReady = false;

function onYouTubeIframeAPIReady() {
  player = new YT.Player('player', {
    playerVars: {
      controls: 0,
      playsinline: 1
    },
    events: {
      onReady: () => {
        playerReady = true;
        playBtn.disabled = false;
        playBtn.textContent = "â–¶ PLAY";
      },
      onStateChange: e => {
        if (e.data === YT.PlayerState.ENDED) {
          player.playVideo(); // LOOP
        }
      }
    }
  });
}

function getId(url) {
  if (!url) return "";
  if (url.includes("v=")) return url.split("v=")[1].split("&")[0];
  if (url.includes("youtu.be/")) return url.split("youtu.be/")[1].split("?")[0];
  return "";
}

const playBtn = document.getElementById("play");
const volume = document.getElementById("volume");

playBtn.onclick = () => {
  if (!playerReady) return alert("Player belum siap");
  const id = getId(document.getElementById("link").value);
  if (!id) return alert("Link YouTube tidak valid");
  player.loadVideoById(id);
  player.setVolume(volume.value);
};

volume.oninput = () => {
  if (playerReady) player.setVolume(volume.value);
};
</script>

</body>
</html>
